{"ast":null,"code":"var _jsxFileName = \"/Users/toshiya/react-sample/src/components/UserefSample.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\nconst UPLOAD_DELAY = 5000;\nconst ImageUploader = () => {\n  _s();\n  const inputImageRef = useRef(null);\n  const fileRef = useRef(null);\n  const [message, setMessage] = useState('');\n  const onClickText = () => {\n    if (inputImageRef.current !== null) {\n      inputImageRef.current.click();\n    }\n  };\n  const onChangeImage = e => {\n    const files = e.target.files;\n    if (files !== null && files.length > 0) {\n      fileRef.current = files[0];\n    }\n  };\n  const onClickUpload = async () => {\n    if (fileRef.current !== null) {\n      await sleep(UPLOAD_DELAY);\n      setMessage(`${fileRef.current.name} has been successfully uploaded`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        textDecoration: 'underline'\n      },\n      onClick: onClickText,\n      children: \"\\u753B\\u50CF\\u3092\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: inputImageRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: onChangeImage,\n      style: {\n        visibility: 'hidden'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onClickUpload,\n      children: \"\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\\u3059\\u308B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), message !== null && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 34\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_s(ImageUploader, \"mKEtUIFZei8L+2dP6LD4dkezc4s=\");\n_c = ImageUploader;\nexport default ImageUploader;\nvar _c;\n$RefreshReg$(_c, \"ImageUploader\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","sleep","ms","Promise","resolve","setTimeout","UPLOAD_DELAY","ImageUploader","_s","inputImageRef","fileRef","message","setMessage","onClickText","current","click","onChangeImage","e","files","target","length","onClickUpload","name","children","style","textDecoration","onClick","fileName","_jsxFileName","lineNumber","columnNumber","ref","type","accept","onChange","visibility","_c","$RefreshReg$"],"sources":["/Users/toshiya/react-sample/src/components/UserefSample.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react'\n\nconst sleep = (ms: number) => new Promise((resolve) => setTimeout(resolve, ms))\n\nconst UPLOAD_DELAY = 5000\n\nconst ImageUploader = () => {\n    const inputImageRef = useRef<HTMLInputElement | null>(null)\n    const fileRef = useRef<File | null>(null)\n    const [message, setMessage] = useState<string | null>('')\n\n    const onClickText = () => {\n        if(inputImageRef.current !== null){\n            inputImageRef.current.click()\n        }\n    }\n\n    const onChangeImage = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const files = e.target.files\n        if(files !== null && files.length > 0){\n            fileRef.current = files[0]\n        }\n    }\n\n    const onClickUpload = async () => {\n        if(fileRef.current !== null){\n            await sleep(UPLOAD_DELAY)\n            setMessage(`${fileRef.current.name} has been successfully uploaded`)\n        }\n    }\n\n    return (\n        <div>\n            <p style={{ textDecoration: 'underline' }} onClick={onClickText}>\n                画像をアップロード\n            </p>\n            <input\n                ref={inputImageRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={onChangeImage}\n                style={{visibility: 'hidden'}}\n            />\n            <br />\n            <button onClick={onClickUpload}>アップロードする</button>\n            {message !== null && <p>{message}</p>}\n        </div>\n    )\n}\n\nexport default ImageUploader"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,KAAK,GAAIC,EAAU,IAAK,IAAIC,OAAO,CAAEC,OAAO,IAAKC,UAAU,CAACD,OAAO,EAAEF,EAAE,CAAC,CAAC;AAE/E,MAAMI,YAAY,GAAG,IAAI;AAEzB,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAMC,aAAa,GAAGX,MAAM,CAA0B,IAAI,CAAC;EAC3D,MAAMY,OAAO,GAAGZ,MAAM,CAAc,IAAI,CAAC;EACzC,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAgB,EAAE,CAAC;EAEzD,MAAMgB,WAAW,GAAGA,CAAA,KAAM;IACtB,IAAGJ,aAAa,CAACK,OAAO,KAAK,IAAI,EAAC;MAC9BL,aAAa,CAACK,OAAO,CAACC,KAAK,CAAC,CAAC;IACjC;EACJ,CAAC;EAED,MAAMC,aAAa,GAAIC,CAAsC,IAAK;IAC9D,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK;IAC5B,IAAGA,KAAK,KAAK,IAAI,IAAIA,KAAK,CAACE,MAAM,GAAG,CAAC,EAAC;MAClCV,OAAO,CAACI,OAAO,GAAGI,KAAK,CAAC,CAAC,CAAC;IAC9B;EACJ,CAAC;EAED,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAGX,OAAO,CAACI,OAAO,KAAK,IAAI,EAAC;MACxB,MAAMb,KAAK,CAACK,YAAY,CAAC;MACzBM,UAAU,CAAE,GAAEF,OAAO,CAACI,OAAO,CAACQ,IAAK,iCAAgC,CAAC;IACxE;EACJ,CAAC;EAED,oBACItB,OAAA;IAAAuB,QAAA,gBACIvB,OAAA;MAAGwB,KAAK,EAAE;QAAEC,cAAc,EAAE;MAAY,CAAE;MAACC,OAAO,EAAEb,WAAY;MAAAU,QAAA,EAAC;IAEjE;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACJ9B,OAAA;MACI+B,GAAG,EAAEtB,aAAc;MACnBuB,IAAI,EAAC,MAAM;MACXC,MAAM,EAAC,SAAS;MAChBC,QAAQ,EAAElB,aAAc;MACxBQ,KAAK,EAAE;QAACW,UAAU,EAAE;MAAQ;IAAE;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CAAC,eACF9B,OAAA;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACN9B,OAAA;MAAQ0B,OAAO,EAAEL,aAAc;MAAAE,QAAA,EAAC;IAAQ;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAChDnB,OAAO,KAAK,IAAI,iBAAIX,OAAA;MAAAuB,QAAA,EAAIZ;IAAO;MAAAgB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpC,CAAC;AAEd,CAAC;AAAAtB,EAAA,CA1CKD,aAAa;AAAA6B,EAAA,GAAb7B,aAAa;AA4CnB,eAAeA,aAAa;AAAA,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}